<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>SaaS Company</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
<style>
  * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: 'Inter', Arial, sans-serif;
  }

  body {
      background: linear-gradient(135deg, #000000, #0a0a0a);
      color: white;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
  }

  header {
      padding: 20px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      background: rgba(0,0,0,0.5);
      backdrop-filter: blur(10px);
  }

  .logo {
      width: 150px;
      height: auto;
      transition: transform 0.3s ease;
  }

  .logo:hover {
      transform: scale(1.05);
  }

  .nav {
      margin-left: 20px;
  }

  .nav a {
      color: white;
      text-decoration: none;
      font-size: 18px;
      margin-right: 10px;
      position: relative;
      transition: color 0.3s ease;
  }

  .nav a:hover {
      color: #FFD700;
  }

  .nav a::after {
      content: '';
      position: absolute;
      width: 0;
      height: 2px;
      bottom: -5px;
      left: 0;
      background-color: #FFD700;
      transition: width 0.3s ease;
  }

  .nav a:hover::after {
      width: 100%;
  }

  .header-right {
      display: flex;
      align-items: center;
  }

  .header-icon {
      font-size: 24px;
      margin-left: 15px;
      cursor: pointer;
      transition: transform 0.2s ease;
  }

  .header-icon:hover {
      transform: scale(1.2);
  }

  #search-modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0,0,0,0.9);
      z-index: 1000;
      justify-content: center;
      align-items: center;
  }

  .search-container {
      width: 80%;
      max-width: 600px;
  }

  .search-input {
      width: 100%;
      padding: 15px;
      font-size: 18px;
      background: rgba(30,30,30,0.9);
      border: 2px solid #FFD700;
      color: white;
      border-radius: 8px;
  }

  .title {
      font-size: 32px;
      margin-bottom: 30px;
      text-align: center;
  }

  .highlight-yellow {
      color: #FFD700;
  }

  .highlight-green {
      color: #4CAF50;
  }

  .create-campaign-section {
      padding: 20px;
      max-width: 1200px;
      margin: 0 auto;
  }

  .subtitle {
      font-size: 24px;
      margin-bottom: 30px;
      text-align: center;
      color: #FFD700;
  }

  .campaign-creation {
      color: #fff;
      padding: 20px;
      display: flex;
      flex-direction: column;
      gap: 20px;
  }

  h2 {
      color: #ffd700;
      padding: 10px 0;
      margin: 20px 0;
  }

  input[type="text"],
  input[type="number"],
  select,
  textarea {
      padding: 12px;
      margin-bottom: 15px;
      border: 1px solid #ffd700;
      border-radius: 4px;
      background-color: rgba(20,20,20,0.7);
      color: #fff;
      width: 100%;
      transition: border-color 0.3s ease;
  }

  input[type="text"]:focus,
  input[type="number"]:focus,
  select:focus,
  textarea:focus {
      outline: none;
      border-color: #4CAF50;
  }

  #company-name, #pro-mail {
      width: 22%;
  }

  #title {
      width: 40%;
  }

  #starting-text, #guideline {
      width: 90%;
      resize: vertical;
  }

  #starting-text {
      height: 150px;
  }

  #guideline {
      height: 60px;
  }

  #activity-sector {
      width: 25%;
  }

  .video-container {
      position: relative;
      width: 75%;
      padding-bottom: 42.18%; /* 16:9 par d√©faut */
      height: 0;
      background-color: #000;
      border: 1px solid #ffd700;
      border-radius: 4px;
      margin: 15px auto;
      transition: all 0.3s ease;
  }

  .video-container.vertical {
      width: 40%;
      padding-bottom: 70%;
  }

  .video-container:hover {
      box-shadow: 0 0 20px rgba(255,215,0,0.3);
  }

  .video-container video {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
  }

  .video-placeholder {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      color: #FFD700;
      font-size: 24px;
      background-color: rgba(0,0,0,0.7);
  }

  .video-placeholder i {
      font-size: 48px;
      margin-bottom: 15px;
  }

  .video-upload {
      display: flex;
      flex-direction: column;
      align-items: center;
      margin: 10px 0;
  }

  #company-logo {
      max-width: 200px;
      margin: 10px 0;
      border: 1px solid #ffd700;
      border-radius: 4px;
      transition: transform 0.3s ease;
  }

  #company-logo:hover {
      transform: scale(1.05);
  }

  .rewards-section p {
      margin: 10px 0;
  }

  .reward-parameters {
      margin-bottom: 20px;
  }

  .unit-value-container {
      display: flex;
      align-items: center;
      gap: 15px;
      margin-bottom: 15px;
  }

  .unit-value-input {
      width: 150px;
  }

  .free-reward-checkbox {
      display: flex;
      align-items: center;
      gap: 8px;
      cursor: pointer;
  }

  .free-reward-checkbox input {
      width: 18px;
      height: 18px;
      cursor: pointer;
  }

  .free-reward-checkbox label {
      cursor: pointer;
      color: #FFD700;
      font-weight: 500;
  }

  #unit-value, #net-profit {
      width: 150px;
  }

  #selected-unit-value, #selected-net-profit, #maximum-mint, #total-revenue, #initial-mint-price {
      font-weight: bold;
      color: #ffd700;
  }

  .rewards-setup {
      display: flex;
      flex-wrap: wrap;
      gap: 30px;
      margin-top: 30px;
  }

  .standard-rewards, .premium-rewards {
      flex: 1;
      min-width: 300px;
      background: rgba(30,30,30,0.5);
      padding: 20px;
      border-radius: 12px;
      border: 1px solid #333;
      transition: box-shadow 0.3s ease;
  }

  .standard-rewards:hover, .premium-rewards:hover {
      box-shadow: 0 0 20px rgba(255,215,0,0.1);
  }

  #standard-reward-type, #premium-reward-type {
      width: 100%;
      max-width: 300px;
  }

  #standard-reward-details, #premium-reward-details {
      margin-top: 15px;
      padding: 15px;
      background-color: #222;
      border: 1px solid #ffd700;
      border-radius: 4px;
  }

  .mint-section {
      display: flex;
      justify-content: center;
      align-items: center;
      width: 100%;
      margin-top: 30px;
  }

  .button-container {
      display: flex;
      flex-direction: column;
      align-items: center;
      position: relative;
  }

  .next-button {
      padding: 15px 25px;
      font-size: 16px;
      font-weight: bold;
      color: #000;
      background-color: #ffd700;
      border: 2px solid #daa520;
      border-radius: 8px;
      cursor: pointer;
      transition: all 0.3s ease;
  }

  .next-button:hover {
      background-color: #4CAF50;
      transform: scale(1.05);
      box-shadow: 0 10px 20px rgba(255,215,0,0.3);
  }

  .zero-value-popup {
      display: none;
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 80%;
      max-width: 700px;
      background: linear-gradient(135deg, #FFD700, #DAA520);
      color: #1a1a1a;
      padding: 30px;
      border-radius: 15px;
      border: 2px solid #fff;
      box-shadow: 0 10px 30px rgba(0,0,0,0.5);
      z-index: 1001;
      font-family: 'Inter', Arial, sans-serif;
  }

  .zero-value-popup h2 {
      color: #000;
      text-align: center;
      margin-bottom: 20px;
      font-size: 24px;
  }

  .zero-value-popup ul {
      margin: 20px 0;
      padding-left: 20px;
  }

  .zero-value-popup li {
      margin-bottom: 10px;
      line-height: 1.5;
  }

  .zero-value-popup .close-btn {
      position: absolute;
      top: 15px;
      right: 15px;
      font-size: 24px;
      cursor: pointer;
      color: #000;
  }

  .zero-value-popup .ok-btn {
      display: block;
      margin: 20px auto 0;
      padding: 10px 30px;
      background-color: #000;
      color: #FFD700;
      border: none;
      border-radius: 5px;
      font-weight: bold;
      cursor: pointer;
      transition: all 0.3s ease;
  }

  .zero-value-popup .ok-btn:hover {
      background-color: #333;
      transform: scale(1.05);
  }

  /* Styles for disabled inputs */
  .disabled-section {
      opacity: 0.5;
      pointer-events: none;
  }

  #mint-info-message {
    color: #FFD700;
    margin-top: 10px;
    font-size: 0.9em;
    padding: 8px;
    background: rgba(30,30,30,0.7);
    border-radius: 4px;
    border-left: 3px solid #FFD700;
}

  /* Styles for max mints input */
  .max-mints-container {
      display: none;
      position: relative;
      margin: 20px 0;
      padding: 15px;
      background: rgba(30,30,30,0.5);
      border: 1px solid #FFD700;
      border-radius: 8px;
  }

  .max-mints-container label {
      display: block;
      margin-bottom: 10px;
      color: #FFD700;
      font-weight: bold;
  }

  .max-mints-container input {
      width: 150px;
      padding: 10px;
      background-color: rgba(20,20,20,0.7);
      border: 1px solid #FFD700;
      color: white;
      border-radius: 4px;
  }

  .max-mints-close {
      position: absolute;
      top: 10px;
      right: 10px;
      color: #ff0000;
      font-size: 20px;
      cursor: pointer;
      transition: transform 0.2s ease;
  }

  .max-mints-close:hover {
      transform: scale(1.2);
  }

  ::placeholder {
      color: white;
      font-style: italic;
      opacity: 0.7;
      line-height: 1.5;
  }

  .free-reward-disabled {
    opacity: 0.4;
    transition: opacity 0.3s ease;
}
.winstory-film-checkbox {
      display: flex;
      align-items: center;
      gap: 8px;
      margin: 15px 0;
      padding: 10px;
      background: rgba(255, 215, 0, 0.1);
      border-radius: 4px;
      border-left: 3px solid #FFD700;
  }

  .winstory-film-checkbox input {
      width: 18px;
      height: 18px;
      cursor: pointer;
  }

  .winstory-film-checkbox label {
      cursor: pointer;
      color: #FFD700;
      font-weight: 500;
  }

  .winstory-film-checkbox .price-tag {
      margin-left: auto;
      background: #FFD700;
      color: #000;
      padding: 3px 8px;
      border-radius: 4px;
      font-size: 0.9em;
      font-weight: bold;
  }

  /* Tooltip styles */
.tooltip-container {
    display: inline-block;
    position: relative;
    margin-left: 8px;
    vertical-align: top; 
    transform: translateY(-15%); 
}

.tooltip-bubble {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 20px;
    height: 20px;
    background-color: #FFD700;
    color: #000;
    border-radius: 50%;
    font-size: 14px;
    font-weight: bold;
    cursor: pointer;
    transition: all 0.3s ease;
    position: relative;
    top: -2px; /* D√©calage suppl√©mentaire vers le haut */
}

.tooltip-bubble:hover {
    background-color: #fff;
    transform: scale(1.1);
}

.tooltip-popup {
    display: none;
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 80%;
    max-width: 800px;
    max-height: 80vh;
    overflow-y: auto;
    background: linear-gradient(135deg, #000000, #0a0a0a);
    color: white;
    padding: 30px;
    border-radius: 15px;
    border: 2px solid #FFD700;
    box-shadow: 0 10px 30px rgba(0,0,0,0.5);
    z-index: 1001;
    font-family: 'Inter', Arial, sans-serif;
}

.tooltip-popup h2 {
    color: #FFD700;
    margin-bottom: 20px;
    text-align: center;
}

.tooltip-popup p, .tooltip-popup ul {
    margin-bottom: 15px;
    line-height: 1.6;
}

.tooltip-popup ul {
    padding-left: 20px;
}

.tooltip-popup li {
    margin-bottom: 8px;
}

.tooltip-popup .close-btn {
    position: absolute;
    top: 15px;
    right: 15px;
    font-size: 24px;
    cursor: pointer;
    color: #FFD700;
}

.tooltip-overlay {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0,0,0,0.7);
    z-index: 1000;
}

  @media (max-width: 768px) {
      #title, #company-name, #pro-mail, #activity-sector {
          width: 100%;
      }
    
      .video-container {
          width: 100%;
      }
    
      .rewards-setup {
          flex-direction: column;
      }
    
      .zero-value-popup {
          width: 90%;
          padding: 20px;
      }
  }
</style>
</head>
<body>
<header>
    <div class="header-left">
        <img src="assets/logo.svg" alt="Winstory Logo" class="logo">
        <div class="nav">
            <a href="#">Home</a>
            <a href="#">Explorer</a>
        </div>
    </div>
    <div class="header-right">
        <span class="header-icon" id="search-icon">üîç</span>
        <span class="header-icon">üîî</span>
        <span class="header-icon">üíº</span>
    </div>
</header>

<div id="search-modal">
  <div class="search-container">
    <input type="text" class="search-input" placeholder="Search campaigns, companies...">
  </div>
</div>

<div class="zero-value-popup" id="zero-value-popup">
    <span class="close-btn" id="close-popup">&times;</span>
    <h2>Congratulations !</h2>
    <p>You've made a bold and strategic choice by setting the Unit Value of rewards to $0. This means you're prioritizing community engagement over direct financial returns.
       An excellent way to strengthen your brand's image and appreciation.</p>
    
    <br>
    <h4>‚û°Ô∏è What does this mean for your company ?</h4>
    <ul>
        <li>No direct profits will be generated from the completion process.</li>
        <li>Your return on investment comes from community engagement, appreciation, and enhanced brand image.</li>
        <li>By offering a limited number of free rewards, you create exclusivity and drive meaningful participation.</li>
    </ul>
    
    <h4>‚û°Ô∏è How does it work ?</h4>
    <ul>
        <li>The community will only cover transaction fees related to the rewards they receive upon validation.</li>
        <li>You must define the maximum number of MINTs available for the community.</li>
    </ul>
    
    <p><strong>Next Step:</strong></p>
    <br>

    <p>‚úÖ Set the maximum number of MINTs, it determines the total number of participations possible. This approach allows you to maximize impact, attract engaged contributors, and elevate your brand's presence within the ecosystem. üöÄ
    </p>
    
    <button class="ok-btn" id="ok-popup" style="background-color: black; color: green;">OK</button>
</div>

<main>
    <div class="create-campaign-section">
        <h2 class="subtitle">Create Campaign as a B2C Company</h2>
     
        <div class="campaign-creation">
            <div class="campaign-section" style="display: flex; flex-direction: column;">
                <h2>Your informations</h2>
             
             
                <label for="company-name">Company Name :</label>
                <input type="text" id="company-name" name="company-name">
             
                <label for="pro-mail">Professional Email :</label>
                <input type="text" id="pro-mail" name="pro-mail">
             
                <label for="activity-sector">Activity Sector Company:</label>
                <select id="activity-sector" name="activity-sector">
        <optgroup label="Web2">
            <option value="e-commerce">E-commerce</option>
            <option value="social-networks">Social Networks</option>
            <option value="media-entertainment">Media and Entertainment</option>
            <option value="technology">Technology</option>
            <option value="fintech">Financial Services (FinTech)</option>
            <option value="education">Education</option>
            <option value="health">Health</option>
            <option value="mobility-transport">Mobility and Transport</option>
            <option value="tourism-hospitality">Tourism and Hospitality</option>
            <option value="digital-marketing">Digital Marketing and Advertising</option>
        </optgroup>
        <optgroup label="Web3">
            <option value="defi">Decentralized Finance (DeFi)</option>
            <option value="nfts-digital-art">NFTs and Digital Art</option>
            <option value="blockchain-gaming">Blockchain Gaming</option>
            <option value="dao">DAO (Decentralized Autonomous Organizations)</option>
            <option value="digital-identity-privacy">Digital Identity and Privacy</option>
            <option value="blockchain-infrastructure">Blockchain Infrastructure</option>
            <option value="decentralized-social-networks">Decentralized Social Networks</option>
            <option value="stablecoins-digital-currencies">Stablecoins and Digital Currencies</option>
            <option value="decentralized-media-content">Decentralized Media and Content</option>
            <option value="staking-yield-farming">Staking and Yield Farming</option>
        </optgroup>
    </select>
             
                <h2>Your winStory </h2>

                <label for="title">Title :</label>
                <input type="text" id="title" name="title" placeholder="Enter title, hook your audience in a few words. Go for impact !">

                <label for="starting-text">Starting Story :</label>
                <textarea id="starting-text" name="starting-text" placeholder="Like a cinematic script with your scenario and visual effects ! Write, invent, imagine your Starting Text highlighting your brand's impact and added value, then open-ended at the perfect suspense moment and let your community co-create! Imagine a decor, a mood, characters, plot-twist etc.  Sophistication, imagination, your creativity is your only limit! Please note that we do not tolerate any incitement to hatred, violence or other forms of discrimination, like Hate Speech, in our version nor in future."></textarea>
             
                <div class="guidelines-section">
                    <label for="guideline">Guideline to help Community to complete Starting Text :</label>
                    <textarea id="guideline" name="guideline" placeholder="Guide your community completions, with style, tone, key elements. Your story, your rules ! This will help both the moderators in scoring completions and the community to be more coherent."></textarea>
                </div>
            </div>

            <div class="video-preview-section">
                <h2>Your Film according to your Starting Story</h2>
                <div class="video-upload" id="video-upload-section">
                    <div class="video-container" id="video-container">
                        <video id="video-preview" controls></video>
                        <div class="video-placeholder">
                            <i class="fas fa-film"></i>
                            <span>Upload your horizontal or vertical video</span>
                        </div>
                    </div>
                    <input type="file" id="video-upload" name="video-upload" accept=".mp4">
                    <p>Maximum file size: 100MB. Supported format: MP4</p>
                    <div class="winstory-film-checkbox">
                        <input type="checkbox" id="winstory-film">
                        <label for="winstory-film">I prefer Winstory creates the film based on my Starting Story</label>
                        <span class="price-tag">+$500</span>
                    </div>
                </div>
             </div>
            <div class="rewards-section">
                <h2>Rewards<div class="tooltip-container">
                    <div class="tooltip-bubble" id="rewards-tooltip">?</div>
                </div></h2>
                
                <div class="tooltip-overlay" id="tooltip-overlay"></div>
                <div class="tooltip-popup" id="rewards-tooltip-popup">
                    <span class="close-btn" id="close-tooltip">&times;</span>
                    <h2>Understanding Rewards</h2>
                    <p><strong>Offer engaging rewards to motivate the community to complete your Story.
                    <br><span style="color:#FFD700">Winstory</span> guides you every step of the way.</strong></p>
                    
                    <p>‚òÄÔ∏è <strong>Key Terms explained</strong> :</p>
                    
                    <li><strong>Unit Value</strong> : The amount paid by each community member to participate in your campaign, usually in stablecoin (e.g., 25 USDC).</li>

                    <p><em>You can set the Unit Value paid, slightly below the perceived value of the reward in order to make it easier to attract the individuals Community.
                    To make them want to complete and obtain the standard reward.
                    And even to produce the best possible completion in order to obtain the Premium reward as well !</em></p>
                    
                    <p><em>You can also set the Unit Value to 0 to allow free participation (excluding transaction fees).
                    In this case, there's no direct return on investment‚Äîbut your brand image gets a powerful boost.</em></p>
                    
                    <li><strong>Net Profit</strong> : The profit goal your company wants to achieve from the campaign, after MINTs costs.
                    This amount is fully customizable.</li>
                    
                    <li><strong>Maximum Mint</strong> : The total number of community participations you allow.
                    It defines the maximum number of rewards needed and helps frame the campaign.</li>
                    
                    <p><em>Maximum Mint = (Initial MINT Cost + Net Profit) / (Unit Value √ó 50%)  
                    <br>Why 50%? : 50% of participation fees fund active and passive Stakers + <span style="color:#FFD700">Winstory</span>. 
                    <br>The other 50% goes to you.</em></p>
                    
                    <li><strong>Total Revenue</strong> : The total turnover (i.e. gross revenue) expected from your campaign.
                    <br>Formula = Selected Net Profit + Your initial MINT price</li>
                    
                    <li><strong>Your initial MINT price</strong> : The price your company pays to launch the campaign :
                    <br>$1000: You provide your own video.
                    <br>$1500: You want <span style="color:#FFD700">Winstory</span> to create the film based on your Starting Story.</li>
                    
                    
                    <p><strong style="color:#FFD700">üéÅ Types of Rewards</strong> :</p>
                    
                   <ul>
    <li><strong>Digital Tokens</strong>: Blockchain-based tokens (e.g., $WINC or others).</li>
    <li><strong>Digital Items</strong>: Unique digital collectibles (via NFTs, e.g. video-game character element).</li>
    <li><strong>Digital Exclusive Access</strong>: Privileged access to online content or experiences. (via NFTs, e.g. exclusive webinar,)</li>
    <li><strong>Physical Exclusive Access</strong>: Access to real-world events or physical goods (via NFTs e.g. VIP event).</li>
</ul>
                    
                    <p><strong style="color:#FFD700">Standard & Premium</strong> :</p>
                    
                    <p><strong>Standard Rewards</strong> üë§üë§üë§ :
                    Sent to every contributor whose completion is validated by the moderators (Stakers).
                    These are distributed automatically once your campaign ends or reaches full participation.</p>
                    
                    <p><strong>Premium Rewards</strong> ü•áü•àü•â :
                    Awarded to the top 3 contributors with the highest average score, based on moderation, criteria, guidelina, coherence, scored by Stakers.
                    This encourages creativity, effort, and storymaking quality.</p>
                    
                    
                    <p><strong style="color:#FFD700">Easy distribution</strong> :</p>
                    
                    <p>Rewards are sent automatically during the MINT, in a single transaction.
                    Simply provide the token, NFT, or access address on the blockchain.
                    <span style="color:#FFD700">Winstory</span> ensures everything is securely distributed to validated contributors by Smart Contract.
                    You'll only be able to publish your campaign once all rewards are properly registered and validated.
                    Once launched, everything runs automatically.</p>
                    
                    <p>üö® <strong style="color:#FFD700">Important</strong></p>
                    
                    <p>Rewards are automatically distributed as soon as the 3 validation conditions are met :</p>
                    
                    <p style="color:#FFD700">‚úÖ At least 22 stakers voted</p>
                    <p style="color:#FFD700">‚úÖ The staking pool exceeds the Unit Value</p>
                    <p style="color:#FFD700">‚úÖ 2:1 majority votes YES</p>
                    
                    <p><strong>These same 3/3 conditions apply for both :</strong></p>
                    <li><strong>Your Initial Story to be available <br>(At least 22 stakers voted + Staking pool > your MINT price + 2:1 majority votes YES)</strong></li>
                    <li><strong>All community Completions</strong></li>
                    
                </div>            
               <div class="reward-parameters">
                   <div class="unit-value-container">
                       <p>Unit Value : <input type="number" id="unit-value" name="unit-value" min="0.00" step="0.01" value="1.00" class="unit-value-input"> $</p>
                       <div class="free-reward-checkbox">
                           <input type="checkbox" id="free-reward">
                           <label for="free-reward">Make the rewards free to $0 for your community (excluding transaction fees)</label>
                       </div>
                   </div>
                   <p>Selected Unit Value : <span id="selected-unit-value">1.00</span> $</p>
                
                   <p>Net Profit : <input type="number" id="net-profit" name="net-profit" min="1" value="1000"> $</p>
                   <p>Selected Net Profit : <span id="selected-net-profit">1000</span> $</p>
                   <p>Maximum Mint : <span id="maximum-mint">3000</span></p>
                   <p>Your initial MINT price : <span id="initial-mint-price">1000</span> $</p>
                   <p>Total Revenue : <span id="total-revenue">2000.00</span> $</p>
               </div>
              
               <!-- New max mints input for zero value -->
               <div class="max-mints-container" id="max-mints-container">
                   <label for="max-mints">Select the maximum number of complementary MINTs at 0$ :</label>
                   <input type="number" id="max-mints" name="max-mints" min="1" value="100">
               </div>
            
               <div class="rewards-setup">
                   <div class="standard-rewards">
                       <h3>Standard Rewards</h3>
                       <select id="standard-reward-type">
                          <option value="">Select a reward type</option>
                          <option value="digital-tokens">Digital Tokens</option>
                          <option value="digital-exclusive-items">Digital Exclusive Items</option>
                          <option value="digital-exclusive-access">Digital Exclusive Access</option>
                          <option value="physical-exclusive-event-access">Physical Exclusive Event Access</option>
                      </select>
                    
                       <div id="standard-reward-details">
                           <label for="standard-reward-title">Reward Title :</label>
                           <input type="text" id="standard-reward-title" name="standard-reward-title">
                        
                           <label for="standard-reward-description">Description :</label>
                           <textarea id="standard-reward-description" name="standard-reward-description"></textarea>
                        
                           <label for="standard-reward-value">Value :</label>
                           <input type="text" id="standard-reward-value" name="standard-reward-value">
                       </div>
                   </div>
                
                   <div class="premium-rewards">
                       <h3>Premium Rewards</h3>
                       <select id="premium-reward-type">
                          <option value="">Select a reward type</option>
                          <option value="digital-tokens">Digital Tokens</option>
                          <option value="digital-exclusive-items">Digital Exclusive Items</option>
                          <option value="digital-exclusive-access">Digital Exclusive Access</option>
                          <option value="physical-exclusive-event-access">Physical Exclusive Event Access</option>
                      </select>
                    
                       <div id="premium-reward-details">
                           <label for="premium-reward-title">Reward Title :</label>
                           <input type="text" id="premium-reward-title" name="premium-reward-title">
                        
                           <label for="premium-reward-description">Description :</label>
                           <textarea id="premium-reward-description" name="premium-reward-description"></textarea>
                        
                           <label for="premium-reward-value">Value :</label>
                           <input type="text" id="premium-reward-value" name="premium-reward-value">
                       </div>
                   </div>
               </div>
            </div>

            <div class="mint-section" style="display: flex; justify-content: center; align-items: center;">
              <div class="button-container">
                  <button class="next-button">Next</button>
              </div>
          </div>
        </div>
    </div>
</main>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        // Elements
        const DOM = {
            // Header & Modals
            searchIcon: document.getElementById('search-icon'),
            searchModal: document.getElementById('search-modal'),
    
            // Video Upload
            videoUpload: document.getElementById('video-upload'),
            videoPreview: document.getElementById('video-preview'),
            videoContainer: document.getElementById('video-container'),
            videoUploadSection: document.getElementById('video-upload-section'),
            winstoryFilmCheckbox: document.getElementById('winstory-film'),
    
            // Reward Parameters
            unitValueInput: document.getElementById('unit-value'),
            freeRewardCheckbox: document.getElementById('free-reward'),
            netProfitInput: document.getElementById('net-profit'),
            selectedUnitValue: document.getElementById('selected-unit-value'),
            selectedNetProfit: document.getElementById('selected-net-profit'),
            maximumMint: document.getElementById('maximum-mint'),
            totalRevenue: document.getElementById('total-revenue'),
            initialMintPrice: document.getElementById('initial-mint-price'),

            // Tooltip Elements
            rewardsTooltip: document.getElementById('rewards-tooltip'),
            rewardsTooltipPopup: document.getElementById('rewards-tooltip-popup'),
            tooltipOverlay: document.getElementById('tooltip-overlay'),
            closeTooltipBtn: document.getElementById('close-tooltip'),
    
            // Reward Types
            standardRewardType: document.getElementById('standard-reward-type'),
            premiumRewardType: document.getElementById('premium-reward-type'),
            standardRewardDetails: document.getElementById('standard-reward-details'),
            premiumRewardDetails: document.getElementById('premium-reward-details'),
    
            // Free Reward Elements
            zeroValuePopup: document.getElementById('zero-value-popup'),
            closePopupBtn: document.getElementById('close-popup'),
            okPopupBtn: document.getElementById('ok-popup'),
            maxMintsContainer: document.getElementById('max-mints-container'),
            maxMintsInput: document.getElementById('max-mints'),
        };
    
        // State
        const state = {
            isFreeReward: false,
            rewardData: {
                standard: {
                    type: '',
                    tokensPerMinter: 0,
                    tokenName: '',
                    itemsPerMinter: 0,
                    itemName: ''
                },
                premium: {
                    type: '',
                    tokensPerMinter: 0,
                    tokenName: '',
                    itemsPerMinter: 0,
                    itemName: ''
                }
            }
        };
    
        // Initialize
        function init() {
            setupEventListeners();
            updateCalculations();
            updateRewardDetails();
            updateInitialMintPrice();
        }
    
        // Event Listeners
        function setupEventListeners() {
            // Search functionality
            DOM.searchIcon.addEventListener('click', () => DOM.searchModal.style.display = 'flex');
            DOM.searchModal.addEventListener('click', (e) => {
                if (e.target === DOM.searchModal) {
                    DOM.searchModal.style.display = 'none';
                }
            });
    
            // Video upload
            DOM.videoUpload.addEventListener('change', handleVideoUpload);
            DOM.winstoryFilmCheckbox.addEventListener('change', toggleWinstoryFilmOption);
    
            // Reward parameters
            DOM.freeRewardCheckbox.addEventListener('change', handleFreeRewardChange);
            DOM.unitValueInput.addEventListener('input', function() {
                updateCalculations();
                updateRewardCalculations();
            });
            DOM.netProfitInput.addEventListener('input', function() {
                updateCalculations();
                updateRewardCalculations();
            });
            DOM.maxMintsInput.addEventListener('input', updateFreeRewardCalculations);
    
            // Check for zero values
            DOM.unitValueInput.addEventListener('keydown', function(e) {
                if (e.key === 'Enter') {
                    checkForZeroValues();
                }
            });
            DOM.unitValueInput.addEventListener('blur', checkForZeroValues);
    
            // Reward types
            DOM.standardRewardType.addEventListener('change', updateRewardDetails);
            DOM.premiumRewardType.addEventListener('change', updateRewardDetails);
    
            // Zero value popup
            DOM.closePopupBtn.addEventListener('click', closeZeroValuePopup);
            DOM.okPopupBtn.addEventListener('click', closeZeroValuePopup);

            // Tooltip functionality
            DOM.rewardsTooltip.addEventListener('click', openTooltip);
            DOM.closeTooltipBtn.addEventListener('click', closeTooltip);
            DOM.tooltipOverlay.addEventListener('click', closeTooltip);
        }

        // Tooltip functions
        function openTooltip() {
            DOM.rewardsTooltipPopup.style.display = 'block';
            DOM.tooltipOverlay.style.display = 'block';
            document.body.style.overflow = 'hidden';
        }

        function closeTooltip() {
            DOM.rewardsTooltipPopup.style.display = 'none';
            DOM.tooltipOverlay.style.display = 'none';
            document.body.style.overflow = '';
        }
    
        // Close with ESC key
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape' && DOM.rewardsTooltipPopup.style.display === 'block') {
                closeTooltip();
            }
        });
    
        // Video Upload Handler
        function handleVideoUpload() {
            const file = this.files[0];
            const videoPlaceholder = document.querySelector('.video-placeholder');
            
            if (file) {
                const videoURL = URL.createObjectURL(file);
                DOM.videoPreview.src = videoURL;
                videoPlaceholder.style.display = 'none';
                
                // Detect video orientation
                DOM.videoPreview.onloadedmetadata = function() {
                    if (this.videoWidth < this.videoHeight) {
                        DOM.videoContainer.classList.add('vertical');
                    } else {
                        DOM.videoContainer.classList.remove('vertical');
                    }
                };
            } else {
                DOM.videoPreview.src = '';
                videoPlaceholder.style.display = 'flex';
                DOM.videoContainer.classList.remove('vertical');
            }
        }
    
        // Toggle Winstory film option
        function toggleWinstoryFilmOption() {
            if (this.checked) {
                DOM.videoContainer.style.display = 'none';
                DOM.videoUpload.style.display = 'none';
                const helperText = DOM.videoUpload.nextElementSibling;
                if (helperText) {
                    helperText.style.display = 'none';
                }
            } else {
                DOM.videoContainer.style.display = 'block';
                DOM.videoUpload.style.display = 'block';
                const helperText = DOM.videoUpload.nextElementSibling;
                if (helperText) {
                    helperText.style.display = 'block';
                }
            }
            updateInitialMintPrice();
        }
    
        // Check for zero values
        function checkForZeroValues() {
            const unitValue = parseFloat(DOM.unitValueInput.value) || 0;
            
            if (unitValue === 0) {
                DOM.freeRewardCheckbox.checked = true;
                handleFreeRewardChange();
            }
        }
    
        // Free Reward Toggle
        function handleFreeRewardChange() {
            state.isFreeReward = DOM.freeRewardCheckbox.checked;
    
            if (state.isFreeReward) {
                showZeroValuePopup();
                DOM.unitValueInput.value = '0.00';
                DOM.unitValueInput.disabled = true;
                DOM.netProfitInput.value = '0';
                DOM.netProfitInput.disabled = true;
    
                // Apply greyed out style
                document.querySelector('p:has(#selected-unit-value)').classList.add('free-reward-disabled');
                document.querySelector('p:has(#selected-net-profit)').classList.add('free-reward-disabled');
                document.querySelector('p:has(#total-revenue)').classList.add('free-reward-disabled');
                document.querySelector('p:has(#unit-value)').classList.add('free-reward-disabled');
                document.querySelector('p:has(#net-profit)').classList.add('free-reward-disabled');
    
                // Show max mints input
                DOM.maxMintsContainer.style.display = 'block';
            } else {
                DOM.unitValueInput.value = '1.00';
                DOM.unitValueInput.disabled = false;
                DOM.netProfitInput.value = '1000';
                DOM.netProfitInput.disabled = false;
                DOM.maxMintsContainer.style.display = 'none';
    
                // Remove greyed out style
                document.querySelector('p:has(#selected-unit-value)').classList.remove('free-reward-disabled');
                document.querySelector('p:has(#selected-net-profit)').classList.remove('free-reward-disabled');
                document.querySelector('p:has(#total-revenue)').classList.remove('free-reward-disabled');
                document.querySelector('p:has(#unit-value)').classList.remove('free-reward-disabled');
                document.querySelector('p:has(#net-profit)').classList.remove('free-reward-disabled');
            }
    
            updateCalculations();
            updateRewardCalculations();
        }
    
        // Show Zero Value Popup
        function showZeroValuePopup() {
            DOM.zeroValuePopup.style.display = 'block';
        }
    
        // Close Zero Value Popup
        function closeZeroValuePopup() {
            DOM.zeroValuePopup.style.display = 'none';
            DOM.maxMintsContainer.style.display = 'block';
            updateFreeRewardCalculations();
        }
    
        // Update Calculations
        function updateCalculations() {
            const unitValue = parseFloat(DOM.unitValueInput.value) || 0;
            const netProfit = parseFloat(DOM.netProfitInput.value) || 0;
            const winstoryFilmChecked = DOM.winstoryFilmCheckbox.checked;
    
            // Update displayed values
            DOM.selectedUnitValue.textContent = unitValue.toFixed(2);
            DOM.selectedNetProfit.textContent = netProfit.toFixed(2);
    
            if (state.isFreeReward) {
                updateFreeRewardCalculations();
            } else {
                // Calculate maximum mints and total revenue for paid rewards
                let maximumMint = Math.ceil((1000 + netProfit) / (unitValue * 0.5));
                
                // Ensure minimum of 5
                if (maximumMint < 5) {
                    maximumMint = 5;
                    // Show info message
                    const mintInfo = document.createElement('div');
                    mintInfo.style.color = '#FFD700';
                    mintInfo.style.marginTop = '10px';
                    mintInfo.style.fontSize = '0.9em';
                    mintInfo.textContent = 'To ensure consistency and fair ranking across all campaigns, a minimum of 5 completions is required. This baseline has been automatically set.';
                    DOM.maximumMint.parentNode.appendChild(mintInfo);
                    if (!document.getElementById('mint-info-message')) {
                        mintInfo.id = 'mint-info-message';
                        DOM.maximumMint.parentNode.appendChild(mintInfo);
                    }
                } else {
                    // Remove message if exists
                    const existingMessage = document.getElementById('mint-info-message');
                    if (existingMessage) {
                        existingMessage.remove();
                    }
                }
    
                const totalRevenue = netProfit + 1000 + (winstoryFilmChecked ? 500 : 0);
    
                DOM.maximumMint.textContent = maximumMint;
                DOM.totalRevenue.textContent = totalRevenue.toFixed(2);
            }
    
            updateRewardCalculations();
        }
    
        // Update Free Reward Calculations
        function updateFreeRewardCalculations() {
            const maxMints = parseInt(DOM.maxMintsInput.value) || 100;
            DOM.maximumMint.textContent = maxMints;
            DOM.totalRevenue.textContent = '0.00';
            updateRewardCalculations();
        }

        function updateInitialMintPrice() {
            const winstoryFilmChecked = DOM.winstoryFilmCheckbox.checked;
            DOM.initialMintPrice.textContent = winstoryFilmChecked ? '1500' : '1000';
            
            if (!state.isFreeReward) {
                const netProfit = parseFloat(DOM.netProfitInput.value) || 0;
                DOM.totalRevenue.textContent = (netProfit + 1000 + (winstoryFilmChecked ? 500 : 0)).toFixed(2);
            }
        }
    
        // Update Reward Details
        function updateRewardDetails() {
            // Update standard reward
            state.rewardData.standard.type = DOM.standardRewardType.value;
            updateStandardRewardDetails();
    
            // Update premium reward
            state.rewardData.premium.type = DOM.premiumRewardType.value;
            updatePremiumRewardDetails();
    
            // Setup dynamic event listeners for new inputs
            setupDynamicEventListeners();
            
            updateRewardCalculations();
        }
    
        // Update Standard Reward Details
        function updateStandardRewardDetails() {
            let details = '';
    
            switch (state.rewardData.standard.type) {
                case 'digital-tokens':
                    const stdTokens = state.rewardData.standard.tokensPerMinter || 0;
                    const stdTotalTokens = stdTokens * parseInt(DOM.maximumMint.textContent);
                    details = `
                        <label for="standard-token-name">Name of the token ?</label>
                        <input type="text" id="standard-token-name" name="standard-token-name"
                               value="${state.rewardData.standard.tokenName || ''}">
    
                        <label for="standard-tokens-per-minter">HOW MANY TOKENS PER INDIVIDUAL COMMUNITY MINTER VALIDATED ?</label>
                        <input type="number" id="standard-tokens-per-minter" name="standard-tokens-per-minter"
                               value="${stdTokens}">
    
                        <p style="color: white;">SEND WITH YOUR ADDRESS CURRENTLY CONNECTED TO WINSTORY.IO
                            <span id="standard-total-tokens" class="highlight-yellow">${stdTotalTokens}</span> TOKENS
                            <span id="standard-token-name-display" class="highlight-yellow">${state.rewardData.standard.tokenName || ''}</span> TO OUR WINSTORY ADDRESS
                        </p>
                    `;
                    break;
    
                case 'digital-exclusive-items':
                    const stdItems = state.rewardData.standard.itemsPerMinter || 0;
                    const stdTotalItems = stdItems * parseInt(DOM.maximumMint.textContent);
                    details = `
                        <label for="standard-item-name">Name of the item ?</label>
                        <input type="text" id="standard-item-name" name="standard-item-name"
                               value="${state.rewardData.standard.itemName || ''}">
    
                        <label for="standard-items-per-minter">HOW MANY ITEM(S) PER INDIVIDUAL COMMUNITY MINTER VALIDATED ?</label>
                        <input type="number" id="standard-items-per-minter" name="standard-items-per-minter"
                               value="${stdItems}">
    
                        <p style="color: white;">SEND WITH YOUR ADDRESS CURRENTLY CONNECTED TO WINSTORY.IO
                            <span id="standard-total-items" class="highlight-yellow">${stdTotalItems}</span> ITEMS
                            <span id="standard-item-name-display" class="highlight-yellow">${state.rewardData.standard.itemName || ''}</span> TO OUR WINSTORY ADDRESS
                        </p>
                    `;
                    break;
    
                case 'digital-exclusive-access':
                case 'physical-exclusive-event-access':
                    details = `
                        <p style="color: white;">SEND WITH YOUR ADDRESS CURRENTLY CONNECTED TO WINSTORY.IO 1 EVENT ACCESS NFT TO OUR WINSTORY ADDRESS</p>
                        <p style="color: white;">We will duplicate to <span id="standard-total-community-validated-minters" class="highlight-yellow">${DOM.maximumMint.textContent}</span> Community Validated Minters</p>
                    `;
                    break;
    
                default:
                    details = '';
            }
    
            DOM.standardRewardDetails.innerHTML = details;
        }
    
        // Update Premium Reward Details
        function updatePremiumRewardDetails() {
            let details = '';
    
            switch (state.rewardData.premium.type) {
                case 'digital-tokens':
                    const premTokens = state.rewardData.premium.tokensPerMinter || 0;
                    details = `
                        <label for="premium-token-name">Name of the token ?</label>
                        <input type="text" id="premium-token-name" name="premium-token-name"
                               value="${state.rewardData.premium.tokenName || ''}">
    
                        <label for="premium-tokens-per-minter">HOW MANY TOKENS PER INDIVIDUAL COMMUNITY MINTER VALIDATED ?</label>
                        <input type="number" id="premium-tokens-per-minter" name="premium-tokens-per-minter"
                               value="${premTokens}">
    
                        <p style="color: white;">SEND WITH YOUR ADDRESS CURRENTLY CONNECTED TO WINSTORY.IO
                            <span id="premium-total-tokens" class="highlight-yellow">${3 * premTokens}</span> TOKENS
                            <span id="premium-token-name-display" class="highlight-yellow">${state.rewardData.premium.tokenName || ''}</span> TO OUR WINSTORY ADDRESS
                        </p>
                    `;
                    break;
    
                case 'digital-exclusive-items':
                    const premItems = state.rewardData.premium.itemsPerMinter || 0;
                    details = `
                        <label for="premium-item-name">Name of the item ?</label>
                        <input type="text" id="premium-item-name" name="premium-item-name"
                               value="${state.rewardData.premium.itemName || ''}">
    
                        <label for="premium-items-per-minter">HOW MANY ITEM(S) PER INDIVIDUAL COMMUNITY MINTER VALIDATED ?</label>
                        <input type="number" id="premium-items-per-minter" name="premium-items-per-minter"
                               value="${premItems}">
    
                        <p style="color: white;">SEND WITH YOUR ADDRESS CURRENTLY CONNECTED TO WINSTORY.IO
                            <span id="premium-total-items" class="highlight-yellow">${3 * premItems}</span> ITEMS
                            <span id="premium-item-name-display" class="highlight-yellow">${state.rewardData.premium.itemName || ''}</span> TO OUR WINSTORY ADDRESS
                        </p>
                    `;
                    break;
    
                case 'digital-exclusive-access':
                case 'physical-exclusive-event-access':
                    details = `
                        <p style="color: white;">SEND WITH YOUR ADDRESS CURRENTLY CONNECTED TO WINSTORY.IO 1 EVENT ACCESS NFT TO OUR WINSTORY ADDRESS</p>
                        <p style="color: white;">We will duplicate to <span id="premium-total-community-validated-minters" class="highlight-yellow">${DOM.maximumMint.textContent}</span> Premium Community Validated Minters</p>
                    `;
                    break;
    
                default:
                    details = '';
            }
    
            DOM.premiumRewardDetails.innerHTML = details;
        }
    
        // Setup Dynamic Event Listeners
        function setupDynamicEventListeners() {
            // Standard Reward Listeners
            document.getElementById('standard-token-name')?.addEventListener('input', function() {
                state.rewardData.standard.tokenName = this.value;
                document.getElementById('standard-token-name-display').textContent = this.value;
            });
    
            document.getElementById('standard-tokens-per-minter')?.addEventListener('input', function() {
                state.rewardData.standard.tokensPerMinter = parseInt(this.value) || 0;
                const total = state.rewardData.standard.tokensPerMinter * parseInt(DOM.maximumMint.textContent);
                document.getElementById('standard-total-tokens').textContent = total;
            });
    
            document.getElementById('standard-item-name')?.addEventListener('input', function() {
                state.rewardData.standard.itemName = this.value;
                document.getElementById('standard-item-name-display').textContent = this.value;
            });
    
            document.getElementById('standard-items-per-minter')?.addEventListener('input', function() {
                state.rewardData.standard.itemsPerMinter = parseInt(this.value) || 0;
                const total = state.rewardData.standard.itemsPerMinter * parseInt(DOM.maximumMint.textContent);
                document.getElementById('standard-total-items').textContent = total;
            });
    
            // Premium Reward Listeners
            document.getElementById('premium-token-name')?.addEventListener('input', function() {
                state.rewardData.premium.tokenName = this.value;
                document.getElementById('premium-token-name-display').textContent = this.value;
            });
    
            document.getElementById('premium-tokens-per-minter')?.addEventListener('input', function() {
                state.rewardData.premium.tokensPerMinter = parseInt(this.value) || 0;
                document.getElementById('premium-total-tokens').textContent = 3 * state.rewardData.premium.tokensPerMinter;
            });
    
            document.getElementById('premium-item-name')?.addEventListener('input', function() {
                state.rewardData.premium.itemName = this.value;
                document.getElementById('premium-item-name-display').textContent = this.value;
            });
    
            document.getElementById('premium-items-per-minter')?.addEventListener('input', function() {
                state.rewardData.premium.itemsPerMinter = parseInt(this.value) || 0;
                document.getElementById('premium-total-items').textContent = 3 * state.rewardData.premium.itemsPerMinter;
            });
        }
    
        // Update Reward Calculations
        function updateRewardCalculations() {
            // Update validator counts
            const mints = DOM.maximumMint.textContent;
            document.querySelectorAll('#standard-total-community-validated-minters, #premium-total-community-validated-minters').forEach(el => {
                if (el) el.textContent = mints;
            });
    
            // Update token/item totals for standard rewards
            if (state.rewardData.standard.type === 'digital-tokens' && document.getElementById('standard-tokens-per-minter')) {
                const stdTokens = parseInt(document.getElementById('standard-tokens-per-minter').value) || 0;
                document.getElementById('standard-total-tokens').textContent = stdTokens * parseInt(mints);
            }
    
            if (state.rewardData.standard.type === 'digital-exclusive-items' && document.getElementById('standard-items-per-minter')) {
                const stdItems = parseInt(document.getElementById('standard-items-per-minter').value) || 0;
                document.getElementById('standard-total-items').textContent = stdItems * parseInt(mints);
            }
        }
    
        // Initialize the application
        init();
    });
</script>
</body>
</html>